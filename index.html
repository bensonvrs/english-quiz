<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é­å®¶è‹±èªæ¥µé€ŸæŒ‘æˆ°è³½</title>
    <!-- å¼•å…¥ React å¼•æ“ -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- å¼•å…¥ Tailwind CSS (æ¨£å¼å¼•æ“) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @keyframes fall {
            0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .animate-fall {
            animation-name: fall;
            animation-timing-function: linear;
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ç°¡å–®çš„ SVG Icons çµ„ä»¶ (å–ä»£ Lucide ä»¥ç¢ºä¿å–®æª”åŸ·è¡Œ)
        const Icons = {
            Bike: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="5.5" cy="17.5" r="3.5"/><circle cx="18.5" cy="17.5" r="3.5"/><path d="M15 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-3 11.5V14l-3-3 4-3 2 3h2"/></svg>,
            Trophy: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            CheckCircle: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            XCircle: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
            ChevronRight: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>,
            RefreshCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>,
            Star: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            Zap: ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Copy: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
        };

        const Confetti = () => (
            <div className="absolute inset-0 pointer-events-none overflow-hidden z-50">
                {[...Array(30)].map((_, i) => (
                    <div
                        key={i}
                        className="absolute animate-fall"
                        style={{
                            left: `${Math.random() * 100}%`,
                            top: `-20px`,
                            animationDuration: `${Math.random() * 2 + 2}s`,
                            animationDelay: `${Math.random() * 2}s`,
                            backgroundColor: ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'][Math.floor(Math.random() * 5)],
                            width: '12px',
                            height: '12px',
                            borderRadius: Math.random() > 0.5 ? '50%' : '2px',
                            transform: `rotate(${Math.random() * 360}deg)`
                        }}
                    />
                ))}
            </div>
        );

        const QuizApp = () => {
            const [gameState, setGameState] = useState('start');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isCorrect, setIsCorrect] = useState(null);
            const [timer, setTimer] = useState(0);
            const [isActive, setIsActive] = useState(false);
            const [showExplanation, setShowExplanation] = useState(false);

            useEffect(() => {
                let interval = null;
                if (isActive) {
                    interval = setInterval(() => {
                        setTimer((seconds) => seconds + 1);
                    }, 1000);
                } else if (!isActive && timer !== 0) {
                    clearInterval(interval);
                }
                return () => clearInterval(interval);
            }, [isActive, timer]);

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            };

            const questions = [
                { id: 1, question: "The soup is too hot. Please wait a few minutes before you ______ it.", options: [{ id: "A", text: "cook" }, { id: "B", text: "eat" }, { id: "C", text: "wash" }, { id: "D", text: "buy" }], answer: "B", explanation: "æ¹¯å¤ªç‡™äº†ï¼Œæ‰€ä»¥è¦ç­‰å¹¾åˆ†é˜å†ã€Œåƒ (eat)ã€ã€‚" },
                { id: 2, question: "My sister likes music very much. She wants to be a ______ in the future.", options: [{ id: "A", text: "singer" }, { id: "B", text: "doctor" }, { id: "C", text: "farmer" }, { id: "D", text: "driver" }], answer: "A", explanation: "å–œæ­¡éŸ³æ¨‚ï¼Œæ‰€ä»¥æœªä¾†æƒ³æˆç‚ºã€Œæ­Œæ‰‹ (singer)ã€ã€‚" },
                { id: 3, question: "It is raining outside. Don't forget to take your ______ with you.", options: [{ id: "A", text: "umbrella" }, { id: "B", text: "bicycle" }, { id: "C", text: "computer" }, { id: "D", text: "window" }], answer: "A", explanation: "å¤–é¢åœ¨ä¸‹é›¨ï¼Œåˆ¥å¿˜äº†å¸¶ã€Œé›¨å‚˜ (umbrella)ã€ã€‚" },
                { id: 4, question: "Jason is very ______. He hasn't eaten anything since this morning.", options: [{ id: "A", text: "happy" }, { id: "B", text: "tired" }, { id: "C", text: "hungry" }, { id: "D", text: "angry" }], answer: "C", explanation: "å¾æ—©ä¸Šåˆ°ç¾åœ¨éƒ½æ²’åƒæ±è¥¿ï¼Œæ‰€ä»¥è¦ºå¾—å¾ˆã€Œé¤“ (hungry)ã€ã€‚" },
                { id: 5, question: "We usually go to the ______ to borrow books on weekends.", options: [{ id: "A", text: "market" }, { id: "B", text: "library" }, { id: "C", text: "hospital" }, { id: "D", text: "park" }], answer: "B", explanation: "å€Ÿæ›¸ (borrow books) çš„åœ°æ–¹æ˜¯ã€Œåœ–æ›¸é¤¨ (library)ã€ã€‚" },
                { id: 6, question: "Listen! The baby ______ in the bedroom.", options: [{ id: "A", text: "cries" }, { id: "B", text: "cried" }, { id: "C", text: "is crying" }, { id: "D", text: "was crying" }], answer: "C", explanation: "çœ‹åˆ° Listen! è¡¨ç¤ºå‹•ä½œæ­£åœ¨ç™¼ç”Ÿï¼Œè¦ç”¨ç¾åœ¨é€²è¡Œå¼ (is crying)ã€‚" },
                { id: 7, question: "______ you go to the movies with your friends last night?", options: [{ id: "A", text: "Do" }, { id: "B", text: "Did" }, { id: "C", text: "Are" }, { id: "D", text: "Were" }], answer: "B", explanation: "last night è¡¨ç¤ºéå»å¼ï¼ŒåŠ©å‹•è©è¦ç”¨ Didã€‚" },
                { id: 8, question: "An elephant is ______ than a dog.", options: [{ id: "A", text: "big" }, { id: "B", text: "bigger" }, { id: "C", text: "biggest" }, { id: "D", text: "the biggest" }], answer: "B", explanation: "å…©è€…æ¯”è¼ƒï¼Œè¦ç”¨æ¯”è¼ƒç´š biggerã€‚" },
                { id: 9, question: "There are many students ______ the classroom.", options: [{ id: "A", text: "in" }, { id: "B", text: "on" }, { id: "C", text: "at" }, { id: "D", text: "to" }], answer: "A", explanation: "åœ¨æ•™å®¤ã€Œè£¡é¢ã€ï¼Œä»‹ç³»è©ç”¨ inã€‚" },
                { id: 10, question: "My father usually ______ newspaper after dinner.", options: [{ id: "A", text: "read" }, { id: "B", text: "reading" }, { id: "C", text: "reads" }, { id: "D", text: "to read" }], answer: "C", explanation: "usually è¡¨ç¤ºç¿’æ…£å‹•ä½œï¼Œä¸”ä¸»è©æ˜¯ç¬¬ä¸‰äººç¨±å–®æ•¸ï¼Œå‹•è©è¦åŠ  sã€‚" }
            ];

            const startGame = () => {
                setGameState('playing');
                setIsActive(true);
                setTimer(0);
                setScore(0);
                setCurrentQuestion(0);
                setSelectedOption(null);
                setShowExplanation(false);
            };

            const handleOptionClick = (optionId) => {
                if (selectedOption) return;
                setSelectedOption(optionId);
                const correct = optionId === questions[currentQuestion].answer;
                setIsCorrect(correct);
                setShowExplanation(true);
                if (correct) setScore(score + 10);
            };

            const handleNextQuestion = () => {
                const nextQuestion = currentQuestion + 1;
                if (nextQuestion < questions.length) {
                    setCurrentQuestion(nextQuestion);
                    setSelectedOption(null);
                    setIsCorrect(null);
                    setShowExplanation(false);
                } else {
                    setGameState('result');
                    setIsActive(false);
                }
            };

            const copyResult = () => {
                const text = `ğŸ† é­å®¶è‹±èªæŒ‘æˆ°è³½å®Œæˆï¼\n\nğŸ“ åˆ†æ•¸ï¼š${score} / 100\nâ±ï¸ è€—æ™‚ï¼š${formatTime(timer)}\n\n${score === 100 ? "ğŸ‰ å¤ªç¥å•¦ï¼å…¨å°ï¼" : "ğŸ’ª ä¸‹æ¬¡ç¹¼çºŒåŠ æ²¹ï¼"}`;
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => alert("æˆç¸¾å·²è¤‡è£½ï¼"));
                } else {
                    alert("è«‹æˆªåœ–åˆ†äº«ï¼\n" + text);
                }
            };

            if (gameState === 'start') {
                return (
                    <div className="min-h-screen bg-gray-900 flex flex-col items-center justify-center p-4 text-white relative overflow-hidden font-sans">
                        <div className="absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none">
                            <div className="absolute top-1/4 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent transform -skew-y-6"></div>
                            <div className="absolute bottom-1/4 left-0 w-full h-1 bg-gradient-to-r from-transparent via-red-500 to-transparent transform -skew-y-6"></div>
                        </div>
                        <div className="bg-gray-800/80 backdrop-blur-md p-8 rounded-3xl border border-gray-700 shadow-2xl max-w-sm w-full text-center z-10">
                            <div className="bg-gradient-to-br from-yellow-400 to-orange-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-orange-500/30 animate-pulse">
                                <Icons.Bike />
                            </div>
                            <h1 className="text-3xl font-black mb-2 tracking-tight">é­å®¶è‹±èª<br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400">æ¥µé€ŸæŒ‘æˆ°è³½</span></h1>
                            <p className="text-gray-400 mb-8 font-medium text-sm">Jason & Toby æº–å‚™å¥½äº†å—ï¼Ÿ<br/>ç›®æ¨™ï¼š100åˆ† + æœ€é€Ÿå‚³èªª</p>
                            <div className="space-y-3 mb-8 text-left bg-gray-900/50 p-4 rounded-xl border border-gray-700">
                                <div className="flex items-center gap-3"><Icons.Star className="w-5 h-5 text-yellow-400" /><span className="text-sm text-gray-300">10 é¡Œ GEPT åˆç´šé¡Œ</span></div>
                                <div className="flex items-center gap-3"><Icons.Zap className="w-5 h-5 text-yellow-400" /><span className="text-sm text-gray-300">è¨ˆæ™‚æ¨¡å¼ (ITT)</span></div>
                            </div>
                            <button onClick={startGame} className="group w-full bg-white text-gray-900 py-4 rounded-xl font-black text-xl shadow-lg hover:bg-blue-500 hover:text-white transition-all active:scale-95 flex items-center justify-center gap-2">START <Icons.ChevronRight className="group-hover:translate-x-1 transition-transform" /></button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'result') {
                return (
                    <div className="min-h-screen bg-gray-900 flex items-center justify-center p-4">
                        {score === 100 && <Confetti />}
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"></div>
                            <div className="flex justify-center mb-6">
                                <div className="relative">
                                    <Icons.Trophy className={`w-28 h-28 ${score === 100 ? "text-yellow-400 drop-shadow-lg animate-bounce" : "text-gray-300"}`} />
                                </div>
                            </div>
                            <h2 className="text-3xl font-black text-gray-800 mb-2">CHALLENGE COMPLETE</h2>
                            <p className="text-gray-500 mb-8 font-medium">æœ¬æ¬¡æ¸¬é©—æˆç¸¾å–®</p>
                            <div className="grid grid-cols-2 gap-4 mb-8">
                                <div className="bg-blue-50 rounded-2xl p-4"><span className="block text-xs text-blue-600 font-bold uppercase tracking-wider mb-1">Score</span><span className="text-4xl font-black text-blue-700">{score}</span></div>
                                <div className="bg-purple-50 rounded-2xl p-4"><span className="block text-xs text-purple-600 font-bold uppercase tracking-wider mb-1">Time</span><span className="text-4xl font-black text-purple-700">{formatTime(timer)}</span></div>
                            </div>
                            <div className="space-y-3">
                                <button onClick={copyResult} className="w-full bg-indigo-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-indigo-200"><Icons.Copy /> è¤‡è£½æˆç¸¾çµ¦ Wei Uncle</button>
                                <button onClick={startGame} className="w-full bg-white text-gray-700 border-2 border-gray-200 py-3 px-6 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2"><Icons.RefreshCcw /> å†æŒ‘æˆ°ä¸€æ¬¡</button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50 py-6 px-4 font-sans flex flex-col items-center">
                    <div className="max-w-md w-full">
                        <div className="flex items-center justify-between mb-6 bg-white p-4 rounded-2xl shadow-sm border border-gray-100">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"><span className="font-black text-blue-600">Q{currentQuestion + 1}</span></div>
                                <div className="flex flex-col"><span className="text-xs text-gray-400 uppercase font-bold">Progress</span><div className="w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden"><div className="h-full bg-blue-500 transition-all duration-300" style={{ width: `${((currentQuestion) / questions.length) * 100}%` }}></div></div></div>
                            </div>
                            <div className="flex items-center gap-2 bg-gray-900 text-white px-4 py-2 rounded-xl shadow-lg"><Icons.Clock className="text-yellow-400 animate-pulse" /><span className="font-mono font-bold text-lg">{formatTime(timer)}</span></div>
                        </div>
                        <div className="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100">
                            <div className="p-6 md:p-8">
                                <h2 className="text-xl font-bold text-gray-800 mb-8 leading-relaxed">{questions[currentQuestion].question}</h2>
                                <div className="space-y-3">
                                    {questions[currentQuestion].options.map((option) => (
                                        <button key={option.id} onClick={() => handleOptionClick(option.id)} disabled={selectedOption !== null} className={`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-between group relative overflow-hidden ${selectedOption === option.id ? (option.id === questions[currentQuestion].answer ? "border-green-500 bg-green-50 text-green-700" : "border-red-500 bg-red-50 text-red-700") : (selectedOption !== null && option.id === questions[currentQuestion].answer) ? "border-green-500 bg-green-50 text-green-700" : "border-gray-100 hover:border-blue-400 hover:bg-blue-50"}`}>
                                            <div className="flex items-center gap-4 z-10"><span className={`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm transition-colors ${selectedOption === option.id ? (option.id === questions[currentQuestion].answer ? "bg-green-200 text-green-700" : "bg-red-200 text-red-700") : "bg-gray-100 text-gray-500 group-hover:bg-blue-200 group-hover:text-blue-700"}`}>{option.id}</span><span className="font-medium text-lg">{option.text}</span></div>
                                            <div className="z-10">{selectedOption === option.id && (option.id === questions[currentQuestion].answer ? <Icons.CheckCircle className="text-green-600" /> : <Icons.XCircle className="text-red-500" />)}</div>
                                        </button>
                                    ))}
                                </div>
                                {showExplanation && (
                                    <div className="mt-8 animate-fade-in-up">
                                        <div className={`p-4 rounded-xl mb-6 ${isCorrect ? "bg-green-50 border border-green-100" : "bg-red-50 border border-red-100"}`}><p className="font-bold mb-1 flex items-center gap-2">{isCorrect ? <span className="text-green-700">Nice! ç­”å°äº†ï¼</span> : <span className="text-red-700">Oops! ç­”éŒ¯å›‰ï¼</span>}</p><p className="text-gray-600 text-sm mt-2"><span className="font-semibold bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs mr-2">è§£æ</span>{questions[currentQuestion].explanation}</p></div>
                                        <button onClick={handleNextQuestion} className="w-full bg-gray-900 text-white py-4 rounded-xl font-bold hover:bg-gray-800 transition-transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg">{currentQuestion === questions.length - 1 ? "çœ‹æˆç¸¾" : "ä¸‹ä¸€é¡Œ"} <Icons.ChevronRight /></button>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<QuizApp />);
    </script>
</body>
</html>
